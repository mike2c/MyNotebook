@using Core.Entities
@using Core.Models
@model PaginatedResult<Note>

@{
	ViewData["Title"] = "Index";
	int number = 1;
}

<div class="box">
	<div class="left">
		<div class="field horizontal">
			<label>
				<span class="material-icons">
					filter_alt
				</span>
			</label>
			<select id="sort" asp-items="@ViewBag.sortItems">				
			</select>
		</div>		
	</div>
	<div class="right">
		<a class="button" asp-action="create">Create <span class="material-icons">add</span></a>
	</div>
</div>

<div class="card-group">	
	@foreach (var item in Model.Data)
	{
		<div class="card">
			<div class="card__layout">
				<div class="card__number">
					@number
				</div>
				<a class="card__summary" href="@Url.Action("edit", "notes", new { id = item.NoteId })">
					<h6 class="card__summary_title">
						@item.Title
					</h6>					
					<p class="card__summary_footer">
						<span> @item.Topic.TopicName</span> @(item.CreatedDate.ToString("dd/MM/yyyy hh:mm  :ss"))
					</p>
				</a>
				<form class="card__button-delete" asp-action="delete" asp-controller="notes" method="post" onsubmit="return onDeleteNote(this)">
					<input type="hidden" id="id" name="id" value="@item.NoteId" />
					<button type="submit" href="@Url.Action("delete", "notes", new { id = item.NoteId })">
						<span class="material-icons">delete</span>
					</button>
				</form>				
			</div>
			<div class="card__overlay">
				<div class="card__overlay__buttons">
					<a href="@Url.Action("delete", "notes", new { id = item.NoteId })">
						<span class="material-icons">pencil</span>
					</a>
					<a class="text-danger" href="@Url.Action("delete", "notes", new { id = item.NoteId })">
						<span class="material-icons">delete</span>
					</a>
				</div>
			</div>
		</div>

		number++;
	}
</div>
